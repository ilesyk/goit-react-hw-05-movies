{"version":3,"file":"static/js/680.f3849ce3.chunk.js","mappings":"uQACO,SAASA,IACd,OAA4BC,EAAAA,EAAAA,MAAnBC,GAAT,eAOA,OACE,kBACEC,SAAU,SAAAC,GARO,IAAAC,EASfD,EAAIE,iBARM,MADKD,EAUFD,EAAIG,OAAO,GAAGF,QAN/BH,EAAgB,CAAEM,MAAOH,GAOtB,EAJH,WAME,kBAAOI,KAAK,UACZ,mBAAQA,KAAK,SAAb,sBAGL,CCdD,IAiCA,EAjCe,WAAO,IAAD,EACnB,GAAuBR,EAAAA,EAAAA,MACjBO,EAAK,WADX,eAC2BE,IAAI,gBAApB,QAAgC,GAC3C,GAA4CC,EAAAA,EAAAA,UAAS,IAArD,eAAOC,EAAP,KAAuBC,EAAvB,KAuBA,OArBAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAa,IAAIC,gBACvB,GAAKR,EAcL,OAhBc,mCAedS,GACO,WACLF,EAAWG,OACZ,EAlBa,wCAKd,8GAEyBC,EAAAA,EAAAA,IAAkBX,EAAO,CAC5CY,OAAQL,EAAWK,SAHzB,OAEUC,EAFV,OAKIR,EAAkBQ,GALtB,gDAOIC,QAAQC,IAAR,MAPJ,0DALc,sBAmBf,GAAE,CAACf,KAGF,4BACE,SAACR,EAAD,KACA,SAACwB,EAAA,EAAD,CAAYH,OAAQT,MAGzB,C","sources":["components/SearchForm/SearchForm.js","pages/SearchPage.js"],"sourcesContent":["import { useSearchParams } from 'react-router-dom';\nexport function Form() {\n  const [, setSearchParams] = useSearchParams();\n  const handleSubmit = value => {\n    if (value === '') {\n      return;\n    }\n    setSearchParams({ query: value });\n  };\n  return (\n    <form\n      onSubmit={evt => {\n        evt.preventDefault();\n        handleSubmit(evt.target[0].value);\n      }}\n    >\n      <input type=\"text\" />\n      <button type=\"submit\">Search</button>\n    </form>\n  );\n}\n","import { fetchMovieByQuery } from 'api';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { Form } from 'components/SearchForm/SearchForm';\n\nconst Movies = () => {\n  const [searchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  const [searchedMovies, setSearchedMovies] = useState([]);\n\n  useEffect(() => {\n    const controller = new AbortController();\n    if (!query) {\n      return;\n    }\n    async function getMoviesByQuery() {\n      try {\n        const movies = await fetchMovieByQuery(query, {\n          signal: controller.signal,\n        });\n        setSearchedMovies(movies);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    getMoviesByQuery();\n    return () => {\n      controller.abort();\n    };\n  }, [query]);\n\n  return (\n    <div>\n      <Form />\n      <MoviesList movies={searchedMovies} />\n    </div>\n  );\n};\nexport default Movies;\n"],"names":["Form","useSearchParams","setSearchParams","onSubmit","evt","value","preventDefault","target","query","type","get","useState","searchedMovies","setSearchedMovies","useEffect","controller","AbortController","getMoviesByQuery","abort","fetchMovieByQuery","signal","movies","console","log","MoviesList"],"sourceRoot":""}